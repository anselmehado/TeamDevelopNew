<h1>Tasks index</h1>
<p><%= notice %></p>
<nav class="navbar navbar-light bg-light">
<%= form_with url: tasks_path, method: :get, html: {class: "form-inline"} , local: true do |form| %>
  <%= form.label :task_name, "Task name:" %>
  <%= form.text_field :task_name, class: "form-control mr-sm-2" %>
  <%= form.label :status, "Status:" %>
  <%= form.select :status, options_for_select([[''],['unstarted'], ['in progress'], ['completed']]), class: "form-control mr-sm-2"%>


  <%= form.submit value: "search", class: "btn btn-outline-success my-2 my-sm-0", type: "submit" %>
<% end %>


</nav>
<br>


<table class="table table-hover">
  <thead>
  <tr>
    <th scope="col">Task Name</th>
    <th scope="col">Content</th>
    <th scope="col">Status</th>
    <th scope="col">Deadline</th>
  </tr>
</thead>
<tbody>
<% @tasks.each do |task| %>
  <tr >
    <td class="task_row" scope="row"><%= task.name %></td>
    <td><%= task.content %></td>
    <td><%= task.status %></td>
    <td class="deadline_row"><%= task.deadline %></td>


    <td><%= link_to t('views.button.edit'), edit_task_path(task) %></td>
    <td><%= link_to t('views.button.destroy'), task, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    <td><%= link_to 'sort by deadline', tasks_path(sort_by: 'true') %></td>

  </tr>
<% end %>
</tbody>
</table>

<br>

<%= link_to 'Create a new task', new_task_path, class: "badge badge-success" %>
